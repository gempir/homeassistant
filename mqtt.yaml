light:
  - name: Falcon Light
    state_topic: "home/falcon"
    command_topic: "home/falcon/set"
    schema: template
    command_on_template: >
      {
      "state": "ON"
      {%- if brightness is defined -%}
      , "brightness": {{ brightness }}
      {%- endif -%}
      {%- if red is defined and green is defined and blue is defined -%}
       , "color": {
         "r": {{ red }}, 
         "g": {{ green }},
         "b": {{ blue }}
        }
      {%- endif -%}
      }
    command_off_template: '{"state": "OFF"}'
    state_template: '{{ (value_json.state)|lower }}'
    brightness_template: '{{ value_json.brightness }}'
    red_template: '{{ value_json.color.r }}'
    green_template: '{{ value_json.color.g }}'
    blue_template: '{{ value_json.color.b }}'
  - name: Screen Light
    state_topic: "home/screenlight"
    command_topic: "home/screenlight/set"
    schema: template
    command_on_template: >
      {
      "state": "ON"
      {%- if brightness is defined -%}
      , "brightness": {{ brightness }}
      {%- endif -%}
      {%- if red is defined and green is defined and blue is defined -%}
       , "color": {
         "r": {{ red }}, 
         "g": {{ green }},
         "b": {{ blue }}
        }
      {%- endif -%}
      }
    command_off_template: '{"state": "OFF"}'
    state_template: '{{ (value_json.state)|lower }}'
    brightness_template: '{{ value_json.brightness }}'
    red_template: '{{ value_json.color.r }}'
    green_template: '{{ value_json.color.g }}'
    blue_template: '{{ value_json.color.b }}'